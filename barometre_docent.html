<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="ca"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;El Meu Baròmetre Docent - Versió Millorada&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.jsdelivr.net/npm/chart.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.11/dist/purify.min.js"&gt;&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Visualization &amp; Content Choices:</p>
<p class="p1"><span class="Apple-converted-space">        </span>- Selecció Baròmetre: Dades: Llista de baròmetres. Objectiu: Elecció usuari. Mètode: Targetes HTML/Tailwind. Interacció: Clic. Justificació: Visual i directe.</p>
<p class="p1"><span class="Apple-converted-space">        </span>- Autoavaluació: Dades: Indicadors i nivells. Objectiu: Autoqualificació. Mètode: Radio buttons HTML/Tailwind/JS. Interacció: Selecció. Justificació: Estàndard i clar.</p>
<p class="p1"><span class="Apple-converted-space">        </span>- Resum Diagnòstic: Dades: Nivells seleccionats. Objectiu: Visió general. Mètode: Gràfic de barres (Chart.js) i text HTML. Interacció: Visualització. Justificació: Resum ràpid i visual.</p>
<p class="p1"><span class="Apple-converted-space">        </span>- Recomanacions per Indicador: Dades: Recursos estructurats. Objectiu: Consells accionables i personalitzables. Mètode: Blocs de text HTML/Tailwind/JS amb botons d'IA per recurs. Interacció: Lectura, clic per IA. Justificació: Presentació directa i personalització granular.</p>
<p class="p1"><span class="Apple-converted-space">        </span>- Suggeriments IA (simulats i millorats): Dades: Text estructurat. Objectiu: Proposta d'activitat detallada per recurs. Mètode: Modal HTML/Tailwind/JS. Interacció: Lectura/Entrada. Justificació: Claritat i rellevància.</p>
<p class="p1"><span class="Apple-converted-space">        </span>- Descàrrega PDF: Dades: Diagnòstic complet. Objectiu: Guardar resultats. Mètode: Botó + jsPDF. Interacció: Clic. Justificació: Funcionalitat estàndard.</p>
<p class="p1"><span class="Apple-converted-space">        </span>Totes les visualitzacions i presentacions s'han escollit per la seva claredat, facilitat d'ús i per suportar el flux d'usuari dissenyat, evitant SVG i Mermaid JS. --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Inter', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f8fafc; /* bg-slate-50 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #334155; /* text-slate-700 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.main-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 64rem; /* max-w-5xl */</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-left: auto;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-right: auto;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 1rem; /* p-4 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>@media (min-width: 640px) { .main-container { padding: 1.5rem; /* sm:p-6 */ } }</p>
<p class="p1"><span class="Apple-converted-space">        </span>@media (min-width: 1024px) { .main-container { padding: 2rem; /* lg:p-8 */ } }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>.content-card {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 0.5rem; /* rounded-lg */</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); /* shadow-lg */</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.content-card:hover {</p>
<p class="p1"><span class="Apple-converted-space">            </span>transform: translateY(-4px);</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1); /* shadow-xl */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn {</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 0.5rem 1rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 0.375rem; /* rounded-md */</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-weight: 500; /* medium */</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: background-color 0.2s ease-in-out;</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: inline-flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-primary {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #0284c7; /* sky-600 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-primary:hover {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #0369a1; /* sky-700 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-secondary {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #0d9488; /* teal-600 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-secondary:hover {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #0f766e; /* teal-700 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-outline {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: transparent;</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #0284c7; /* sky-600 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid #0284c7; /* sky-600 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.btn-outline:hover {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f0f9ff; /* sky-50 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Estils per als radio buttons personalitzats */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.custom-radio-label {</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid #cbd5e1; /* slate-300 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 0.75rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 0.375rem; /* rounded-md */</p>
<p class="p1"><span class="Apple-converted-space">            </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: border-color 0.2s, box-shadow 0.2s;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 0.5rem; /* mb-2 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: block;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.custom-radio-label:hover {</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-color: #0284c7; /* sky-600 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.custom-radio-input:checked + .custom-radio-label {</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-color: #0284c7; /* sky-600 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 0 0 2px #0284c7; /* sky-600 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f0f9ff; /* sky-50 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.custom-radio-input {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: none; /* Amaga el radio button per defecte */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.level-description {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-size: 0.875rem; /* text-sm */</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #475569; /* slate-600 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 0.25rem;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.recommendation-details {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f9fafb; /* gray-50 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>border: 1px solid #e5e7eb; /* gray-200 */</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 1rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 0.375rem; /* rounded-md */</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-top: 0.5rem;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.recommendation-details p, .recommendation-details ul, .recommendation-details ol {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-bottom: 0.5rem;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.recommendation-details strong {</p>
<p class="p1"><span class="Apple-converted-space">            </span>color: #1e293b; /* slate-800 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.recommendation-details ul {</p>
<p class="p1"><span class="Apple-converted-space">            </span>list-style-type: disc;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding-left: 1.5rem;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.resource-item {</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: space-between;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 0.75rem 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-bottom: 1px dashed #e2e8f0; /* slate-200 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.resource-item:last-child {</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-bottom: none;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.resource-item p {</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin: 0;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>/* Modal styles */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.modal-overlay {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: fixed;</p>
<p class="p1"><span class="Apple-converted-space">            </span>top: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>left: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: rgba(0, 0, 0, 0.5);</p>
<p class="p1"><span class="Apple-converted-space">            </span>display: flex;</p>
<p class="p1"><span class="Apple-converted-space">            </span>align-items: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>justify-content: center;</p>
<p class="p1"><span class="Apple-converted-space">            </span>z-index: 50;</p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 0;</p>
<p class="p1"><span class="Apple-converted-space">            </span>visibility: hidden;</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: opacity 0.3s ease, visibility 0.3s ease;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.modal-overlay.active {</p>
<p class="p1"><span class="Apple-converted-space">            </span>opacity: 1;</p>
<p class="p1"><span class="Apple-converted-space">            </span>visibility: visible;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.modal-content {</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: white;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding: 1.5rem;</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-radius: 0.5rem; /* rounded-lg */</p>
<p class="p1"><span class="Apple-converted-space">            </span>box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1); /* shadow-xl */</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 90%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 42rem; /* max-w-2xl */</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-height: 90vh;</p>
<p class="p1"><span class="Apple-converted-space">            </span>overflow-y: auto;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.chart-container {</p>
<p class="p1"><span class="Apple-converted-space">            </span>position: relative;</p>
<p class="p1"><span class="Apple-converted-space">            </span>width: 100%;</p>
<p class="p1"><span class="Apple-converted-space">            </span>max-width: 600px; /* o max-w-2xl de Tailwind */</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-left: auto;</p>
<p class="p1"><span class="Apple-converted-space">            </span>margin-right: auto;</p>
<p class="p1"><span class="Apple-converted-space">            </span>height: 300px;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>max-height: 400px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>@media (min-width: 768px) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>.chart-container {</p>
<p class="p1"><span class="Apple-converted-space">                </span>height: 350px;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body class="bg-slate-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;header class="bg-white shadow-md sticky top-0 z-40"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="main-container py-4 flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h1 class="text-2xl font-bold text-sky-700"&gt;El Meu Baròmetre Docent&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="glossaryButton" class="btn btn-outline"&gt;&lt;i class="fas fa-book mr-2"&gt;&lt;/i&gt;Glossari&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;main id="app" class="main-container mt-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/main&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;footer class="text-center py-8 text-slate-500 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;p&gt;&amp;copy; &lt;span id="currentYear"&gt;&lt;/span&gt; El Meu Baròmetre Docent. Tots els drets reservats.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/footer&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="infoModal" class="modal-overlay"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="modal-content"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h2 id="modalTitle" class="text-xl font-semibold mb-4 text-sky-700"&gt;Títol del Modal&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="modalBody" class="text-slate-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p&gt;Contingut del modal...&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="mt-6 text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="closeModalButton" class="btn btn-primary"&gt;Tancar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><span class="Apple-converted-space">    </span></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="aiModal" class="modal-overlay"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="modal-content"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;h2 class="text-xl font-semibold mb-4 text-teal-600" id="aiModalTitle"&gt;Suggeriments amb Intel·ligència Artificial&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="aiModalIntro" class="mb-4 text-slate-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p&gt;A continuació, pots refinar la teva consulta per obtenir suggeriments més personalitzats de la IA. Indica el context específic:&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="aiContextInputs" class="space-y-3 mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;label for="aiContextModule" class="block text-sm font-medium text-slate-700"&gt;Mòdul/Assignatura (opcional):&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" id="aiContextModule" class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="Ex: Matemàtiques, Projecte de Recerca..."&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;label for="aiContextCycle" class="block text-sm font-medium text-slate-700"&gt;Cicle/Nivell Educatiu (opcional):&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" id="aiContextCycle" class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="Ex: Educació Primària, Batxillerat..."&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;label for="aiContextStudents" class="block text-sm font-medium text-slate-700"&gt;Característiques de l'Alumnat (opcional):&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;textarea id="aiContextStudents" rows="2" class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="Ex: Grup divers, Alt rendiment, Necessitats específiques..."&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;button id="getAIContextSuggestionButton" class="btn btn-secondary w-full mb-4"&gt;&lt;i class="fas fa-wand-magic-sparkles mr-2"&gt;&lt;/i&gt;Generar Suggeriments Detallats&lt;/button&gt;</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="aiSuggestionOutputContainer" class="mt-4 p-4 bg-teal-50 border border-teal-200 rounded-md hidden"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 class="text-lg font-semibold text-teal-700 mb-2"&gt;Suggeriments Generats:&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="aiSuggestionOutput" class="text-sm text-slate-700 whitespace-pre-wrap"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mt-4" id="aiFollowUpSection"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                     </span>&lt;label for="aiFollowUpQuestion" class="block text-sm font-medium text-slate-700"&gt;Vols seguir indagant? Fes una altra pregunta:&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;textarea id="aiFollowUpQuestion" rows="2" class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="Escriu la teva pregunta addicional aquí..."&gt;&lt;/textarea&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button id="getAIFollowUpButton" class="btn btn-secondary w-full mt-2"&gt;&lt;i class="fas fa-comment-dots mr-2"&gt;&lt;/i&gt;Preguntar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">             </span>&lt;div id="aiLoadingIndicator" class="mt-4 p-4 bg-teal-50 border border-teal-200 rounded-md hidden text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;i class="fas fa-spinner fa-spin text-teal-600 text-2xl"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-teal-700 mt-2"&gt;Generant suggeriments amb IA...&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="mt-6 text-right"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="closeAIModalButton" class="btn btn-outline"&gt;Tancar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const appContainer = document.getElementById('app');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const infoModal = document.getElementById('infoModal');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const aiModal = document.getElementById('aiModal');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const modalTitle = document.getElementById('modalTitle');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const modalBody = document.getElementById('modalBody');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const closeModalButton = document.getElementById('closeModalButton');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const glossaryButton = document.getElementById('glossaryButton');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const closeAIModalButton = document.getElementById('closeAIModalButton');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const getAIContextSuggestionButton = document.getElementById('getAIContextSuggestionButton');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const aiSuggestionOutputContainer = document.getElementById('aiSuggestionOutputContainer');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const aiSuggestionOutput = document.getElementById('aiSuggestionOutput');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const aiLoadingIndicator = document.getElementById('aiLoadingIndicator');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const getAIFollowUpButton = document.getElementById('getAIFollowUpButton');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const aiModalTitle = document.getElementById('aiModalTitle');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const aiModalIntro = document.getElementById('aiModalIntro');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const aiContextInputs = document.getElementById('aiContextInputs');</p>
<p class="p1"><span class="Apple-converted-space">        </span>const aiFollowUpSection = document.getElementById('aiFollowUpSection');</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>document.getElementById('currentYear').textContent = new Date().getFullYear();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentBarometerId = null;</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentEvaluation = {};</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentIndicatorForAI = null; // Per guardar l'indicador i nivell per a la IA</p>
<p class="p1"><span class="Apple-converted-space">        </span>let currentResourceForAI = null; // Per guardar el recurs seleccionat per a la IA</p>
<p class="p1"><span class="Apple-converted-space">        </span>let aiContextHistory = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>let aiModalMode = 'diagnosis'; // 'diagnosis' or 'glossary'</p>
<p class="p1"><span class="Apple-converted-space">        </span>let glossarySearchTermForAI = ''; // To store the term when generating glossary definition</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Glossary data parsed from the provided document</p>
<p class="p1"><span class="Apple-converted-space">        </span>const glossaryData = [</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Baròmetre pedagògic", description: "Eina d'autodiagnosi que permet als docents reflexionar sobre la seva pràctica orientadora en diferents àmbits de desenvolupament personal de l’alumnat." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Autoregulació", description: "Capacitat de gestionar de manera autònoma les emocions, el temps, les estratègies d’aprenentatge i els objectius personals." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Motivació intrínseca", description: "Impuls intern que porta l’alumnat a aprendre per interès, curiositat o satisfacció personal, independentment de recompenses externes." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Motivació extrínseca", description: "Estímul per aprendre o actuar que prové de factors externs, com ara notes, premis o reconeixement." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Estratègies d’aprenentatge", description: "Tècniques o procediments que utilitza l’alumnat per comprendre, recordar i aplicar informació (com mapes mentals, lectura activa, etc.)." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Autoavaluació", description: "Procés mitjançant el qual l’alumnat o el docent valora les seves pròpies actuacions per identificar punts forts i àrees de millora." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Assertivitat", description: "Habilitat comunicativa que permet expressar opinions, sentiments i drets de manera clara i respectuosa, sense agressivitat ni submissió." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Escolta activa", description: "Actitud i tècnica comunicativa basada en escoltar amb atenció i empatia, mostrant interès real pel que l’altre diu." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Mentalitat de creixement", description: "Creença que les habilitats personals es poden desenvolupar amb esforç, estratègia i persistència, contraposada a una mentalitat fixa." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Educació emocional", description: "Procés per desenvolupar competències com la consciència emocional, l’autoregulació, la motivació, l’empatia i les habilitats socials." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Empatia", description: "Capacitat d’entendre i compartir els sentiments i perspectives de les altres persones." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Tutoria compartida", description: "Enfocament en què diferents docents col·laboren en l’acompanyament personal i educatiu de’alumnat." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Projecte vital", description: "Conjunt d’aspiracions personals i professionals que donen sentit i direcció a la vida de l’alumne." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Competències transversals", description: "Habilitats aplicables a diferents contextos i àmbits de la vida, com la comunicació, el treball en equip o la gestió del temps." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Educació integral", description: "Model educatiu que promou el desenvolupament de totes les dimensions de la persona: cognitiva, emocional, social, física i ètica." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Pràctica restaurativa", description: "Estratègia pedagògica centrada en la reparació del dany i la restauració de les relacions a través del diàleg i la responsabilitat compartida." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Tècniques de relaxació", description: "Exercicis orientats a reduir l’estrès i millorar el benestar, com la respiració profunda o el mindfulness." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Gestió de transicions", description: "Acompanyament planificat dels canvis educatius i vitals (canvi de centre, etapa, inserció laboral) per reduir l’impacte emocional i organitzatiu." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Clima d’aula", description: "Ambient emocional i relacional que es crea a l’aula, i que influeix directament en la motivació i el benestar de l’alumnat." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Resiliència", description: "Capacitat per afrontar situacions adverses, adaptar-s’hi i sortir-ne enfortit." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Convivència", description: "Conjunt de relacions que es donen en un espai educatiu i que poden ser afavorides mitjançant normes, valors i estratègies pedagògiques." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Competència personal", description: "Habilitat per conèixer-se, regular-se emocionalment i actuar de manera responsable en diferents contextos." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Competència social", description: "Capacitat per establir relacions positives, cooperar, comunicar-se i conviure en entorns diversos." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Competència emocional", description: "Conjunt d’habilitats per identificar, comprendre, expressar i regular les emocions pròpies i alienes." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Feedback", description: "Retorn d’informació constructiva sobre una tasca o comportament que ajuda a millorar el procés d’aprenentatge." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Orientació personal", description: "Acompanyament per ajudar l’alumne a conèixer-se i prendre decisions ajustades a la seva realitat i objectius." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Tutoria", description: "Espai educatiu de seguiment personalitzat i desenvolupament integral de l’alumnat." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Rúbrica", description: "Instrument d’avaluació que estableix criteris i nivells per valorar competències o tasques de manera objectiva." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Diari d’aprenentatge", description: "Eina d’autoreflexió que permet a l’alumnat registrar les seves experiències, aprenentatges i emocions." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Aprenentatge significatiu", description: "Aprenentatge connectat amb els coneixements previs i amb sentit personal per a l’alumne." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Competència d’autonomia", description: "Capacitat per organitzar el propi aprenentatge, prendre decisions i actuar amb responsabilitat." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Habilitats metacognitives", description: "Estratègies per pensar sobre el propi pensament i regular com s’aprèn." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Mentalitat fixa", description: "Creença que les capacitats personals són innates i no es poden desenvolupar amb l’esforç." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Autoconcepte", description: "Percepció que té una persona sobre si mateixa en diferents àmbits (acadèmic, social, físic, etc.)." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Identitat personal", description: "Conjunt de trets, valors i creences que defineixen com una persona es veu a si mateixa." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Expectatives d’aprenentatge", description: "Nivell d’assoliment que s’espera que l’alumnat arribi, i que condiciona la seva motivació i actitud." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Regulació emocional", description: "Capacitat per gestionar de manera adequada les emocions en funció del context." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Frustració", description: "Emoció que apareix quan no s’aconsegueixen els objectius esperats." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Assetjament escolar", description: "Violència reiterada i intencionada entre iguals, que genera malestar físic o psicològic." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Ciberassetjament", description: "Assetjament que es produeix a través de mitjans digitals com xarxes socials o missatgeria." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Cultura de centre", description: "Conjunt de valors, pràctiques i actituds compartides per la comunitat educativa." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Coavaluació", description: "Procés d’avaluació realitzat entre iguals per valorar el treball dels companys." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Responsabilitat compartida", description: "Concepte que implica que alumnes, docents i famílies col·laboren activament en el procés educatiu." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Projecte educatiu", description: "Document que defineix la identitat, objectius, valors i línies d’actuació del centre." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Prevenció", description: "Accions que s’implementen per anticipar-se i evitar problemes futurs." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Competència digital", description: "Capacitat per fer un ús responsable, crític i segur de les tecnologies digitals." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Educació personalitzada", description: "Model educatiu que adapta l’ensenyament a les característiques, ritmes i interessos de cada alumne." },</p>
<p class="p1"><span class="Apple-converted-space">            </span>{ concept: "Tutoria entre iguals", description: "Metodologia en què alumnes més grans o amb més experiència acompanyen companys més novells." }</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>const barometersData = {</p>
<p class="p1"><span class="Apple-converted-space">            </span>'autoconeixement_identitat': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "Autoconeixement i Identitat Professional",</p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "En l’àmbit de l’autoconeixement i la identitat, es podran identificar aspectes com l’autoconeixement, l’autoestima, la identificació de fortaleses i febleses, la construcció de la pròpia identitat i la reflexió sobre els valors personals.",</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon: "fa-solid fa-user-doctor",</p>
<p class="p1"><span class="Apple-converted-space">                </span>resources: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Mapa de competències professionals i personals",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Activitat en què l’alumnat identifica les seves habilitats tècniques (hard skills) i socials (soft skills), relacionant-les amb els perfils professionals del seu sector.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_autoconeixement_1"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "“Pitch personal” o “Elevator pitch”",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Exercici per preparar una presentació breu de qui són, què saben fer i què volen aconseguir. Molt útil per a la FCT i la inserció laboral.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_autoconeixement_2", "id_autoconeixement_3"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Dinàmiques de coneixement personal i de grup (per exemple DAFO personal)",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Activitats per identificar fortaleses, debilitats, oportunitats i amenaces tant en l'àmbit personal com de projecte professional.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_autoconeixement_1", "id_autoconeixement_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Rúbriques d’autoavaluació personal",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Instruments perquè cada alumne/a pugui valorar les seves competències personals (responsabilitat, iniciativa, comunicació, etc.) de manera transversal als mòduls.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_autoconeixement_1", "id_autoconeixement_3"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Espais de reflexió sobre el propi procés d’aprenentatge",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Diari d’aprenentatge o portafolis: amb reptes personals superats, situacions de millora, expectatives…",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_autoconeixement_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Projectes o activitats que vinculin valors i professió",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Per exemple, treballs o debats sobre dilemes ètics, responsabilitat social o identitat professional.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_autoconeixement_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Sessions de tutoria compartida entre mòduls",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Espais periòdics (encara que siguin breus) per compartir inquietuds, reptes i expectatives, liderats per diferents docents del cicle.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_autoconeixement_2", "id_autoconeixement_3", "id_autoconeixement_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>indicators: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_autoconeixement_1",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Identificació de fortaleses i febleses",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No es plantegen activitats que facilitin a l’alumnat la identificació de les seves fortaleses, debilitats ni valors.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: S’inclouen algunes activitats que permeten expressar valors, interessos i opinions.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Les activitats permeten a l’alumnat l’autoconeixement per construir una imatge realista i positiva de si mateix/a.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: L’autoconeixement, l’autoestima i la identitat formen part de la programació d’aula i del procés d’autoregulació de l’aprenentatge."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_autoconeixement_2",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Construcció de la pròpia identitat",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: Les tasques són uniformes i no tenen en compte la diversitat d’identitats a l’aula.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Hi ha cert reconeixement de les diferències personals i d’identitat.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es reconeixen i respecten les diferents identitats i trajectòries personals.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: Les propostes connecten amb valors personals i fomenten el pensament crític."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_autoconeixement_3",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Autoestima i autoconfiança",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No es promou l’autoestima ni la confiança en la pròpia identitat.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: L’alumnat rep acompanyament però sense un pla de treball personal.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es promou la reflexió sobre valors i creences.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: Hi ha una cultura d’aula que valora les potencialitats i l’autenticitat de cada persona."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_autoconeixement_4",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Valors personals i creences",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No hi ha espais per parlar dels valors personals o projecte de vida.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es promou la participació en debats o dinàmiques per potenciar l’autoconeixement.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: L’alumnat pren consciència del seu itinerari personal i es veu capaç d’avançar-hi.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: Es contempla el progrés personal i creixement de la pròpia identitat."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>]</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>'gestio_emocional': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "Gestió Emocional i Benestar Docent",</p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "En l’àmbit de la gestió emocional i del benestar, es podran identificar aspectes com la regulació emocional i la gestió de l’estrès, les habilitats d’afrontament davant les dificultats, la resolució de conflictes, la gestió de la frustració i les tècniques de relaxació.",</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon: "fa-solid fa-brain",</p>
<p class="p1"><span class="Apple-converted-space">                </span>resources: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Check-in emocional a l’inici de classe",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Dinàmica ràpida (oral, escrita o digital) per detectar l’estat emocional de l’alumnat. Ex: cercles de paraula.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_gestio_emocional_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Píndoles de respiració o pausa activa",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Breus moments de desconnexió o regulació a l’aula (ex: respiració 4-4-4, estiraments suaus, mindfulness de 2 minuts).",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_gestio_emocional_3", "id_gestio_emocional_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Gestió de l’estrès en períodes d’avaluació",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Activitats concretes per prevenir l’ansietat (planificació, tècniques d’estudi, tècniques de relaxació, descans actiu).",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_gestio_emocional_4", "id_gestio_emocional_2"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Debats sobre salut mental i benestar emocional",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Aprofitant contextos curriculars (ex: mòduls d’empresa, o qualsevol situació de conflicte o frustració professional).",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_gestio_emocional_2"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Resolució de conflictes a través del diàleg i la mediació",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "En situacions reals d’aula o grup, aplicar models de resolució pacífica amb rol actiu de l’alumnat.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_gestio_emocional_1"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Autoavaluació emocional",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Eines senzilles perquè l’alumnat reflexioni sobre com gestiona les emocions, la frustració o els reptes personals.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_gestio_emocional_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Sessions de tutoria compartida sobre emocions i cura de si mateix/a",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "En petits grups, facilitar espais per compartir dificultats, descobrir estratègies i reforçar el suport entre iguals.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_gestio_emocional_2", "id_gestio_emocional_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Accions col·lectives per afavorir el benestar del grup",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Ex: mural de recursos de benestar, desconnexions lúdiques compartides, normes de convivència acordades.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_gestio_emocional_1"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>indicators: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_gestio_emocional_1",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Resolució de conflictes i gestió de la frustració",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: Els conflictes es resolen de manera reactiva o punitiva.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: S’introdueixen normes de convivència per prevenir els conflictes.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es promou la resolució de conflictes des de l’empatia, el diàleg i la corresponsabilitat.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: Els conflictes es treballen des d’un enfocament restauratiu i preventiu."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_gestio_emocional_2",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Habilitats d’afrontament davant les dificultats",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No es treballen eines ni estratègies per afrontar la resolució de problemes.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es comencen a introduir estratègies d’afrontament davant de les dificultats identificades.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: S’inclouen algunes estratègies orientades a la solució dels problemes.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: Es proposen a l’alumnat estratègies personals d’afrontament i cura de si mateix/a."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_gestio_emocional_3",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Mindfulness i tècniques de relaxació",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No hi ha espais destinats a la calma, la relaxació i la gestió emocional.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es fan activitats esporàdiques per gestionar el benestar emocional (ex: respiracions, descansos actius).",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es practiquen tècniques de mindfulness i relaxació de forma regular.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: A partir de les eines facilitades, l’alumnat és capaç d’autoregular les seves emocions i acompanyar als altres amb empatia."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_gestio_emocional_4",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Regulació emocional i gestió de l’estrès",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: Es considera que la gestió emocional i de l’estrès és responsabilitat exclusiva de l’alumnat.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es comença a prendre consciència de la diversitat de l’estat emocional i de’impacte en l’alumnat.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: S’assumeix que la regulació emocional i de’estrès forma part de la pròpia tasca docent.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: S’integra de manera natural la gestió emocional i de l’estrès com a part essencial de la pròpia pràctica docent."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>]</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>'habilitats_socials_comunicacio': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "Habilitats Socials i Comunicació",</p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "En l’àmbit de les habilitats socials i la comunicació es podran identificar aspectes com l’empatia, l’assertivitat, l’escolta activa, la construcció de relacions interpersonals saludables i la prevenció de l’assetjament.",</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon: "fa-solid fa-comments",</p>
<p class="p1"><span class="Apple-converted-space">                </span>resources: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Empatia i assertivitat",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Recursos de comunicació i tutoria per desenvolupar la capacitat de posar-se al lloc de l'altre i expressar-se de forma respectuosa.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_habilitats_socials_1"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Comunicació efectiva i escolta activa",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Exercicis com entrevistes de feina o 'elevator pitch' per millorar l'expressió oral i la capacitat d'escoltar activament.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_habilitats_socials_2"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Relacions interpersonals saludables",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Activitats per treballar a l’aula a partir de vídeos d’escenes teatralitzades per promoure interaccions positives.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_habilitats_socials_3"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Prevenció de l’assetjament i ciberassetjament",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Recursos i activitats per prevenir situacions d'assetjament i ciberassetjament a l'entorn escolar.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_habilitats_socials_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>indicators: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_habilitats_socials_1",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Empatia i assertivitat",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No es faciliten eines per desenvolupar l’empatia o l’assertivitat en les interaccions personals.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es realitzen algunes dinàmiques per fomentar l’empatia i la col·laboració, però de manera esporàdica.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es practica l’empatia, l’assertivitat i la cooperació a través d’activitats estructurades i d’espais de reflexió conjunta.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: L’empatia, l’assertivitat i la cooperació formen part de la cultura de centre: són valors centrals que es promouen de manera coherent i transversal."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_habilitats_socials_2",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Comunicació efectiva i escolta activa",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: La comunicació oral i escrita es dona únicament en les exposicions magistrals, sense espais de diàleg ni d’escolta.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es promouen breus moments d’expressió i d’escolta activa (com ara pluja d’idees o cercles de paraula), tot i que sense un seguiment profund.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es faciliten espais de diàleg i participació on la comunicació efectiva i l’escolta activa són la base del procés d’ensenyament-aprenentatge.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: La comunicació efectiva i l’escolta activa són elements clau en la presa de decisions, a l’hora de treballar en equip i per avaluar processos d’aprenentatge."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_habilitats_socials_3",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Relacions interpersonals saludables",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: Les relacions interpersonals es consideren secundàries, no tenen valor i no hi ha espais destinats a enfortir-les.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es valora la convivència i el clima de grup des d’una perspectiva normativa o disciplinària però no hi ha una proposta metodològica clara per treballar-la de forma conscient i transversal.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es dona importància a la qualitat de les relacions interpersonals com a part de l’èxit educatiu i personal amb propostes específiques per treballar-les.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: La qualitat de les relacions interpersonals és un indicador clau de l’èxit educatiu i, per tant, es crea una cultura inclusiva i respectuosa."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_habilitats_socials_4",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Prevenció de l’assetjament escolar i ciberassetjament",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: L’assetjament escolar o ciberassetjament es resol de forma puntual i reactiva, sense tenir en compte el protocol establert ni cap estratègia de prevenció.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es reconeixen conductes d’assetjament, però es desconeix o no s’aplica adequadament el protocol.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es duen a terme accions preventives d’assetjament mitjançant tallers i protocols integrats en el projecte de convivència.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: La prevenció de’assetjament es treballa col·lectivament en l’acció tutorial i amb protocols clars."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>]</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>'autonomia_presa_decisions': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "Autonomia i Presa de Decisions",</p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "En l’àmbit de l’autonomia i la presa de decisions es podran identificar aspectes com l’autoregulació i la responsabilitat, la presa de decisions informada, la planificació i l’establiment d’objectius personals així com la tolerància a la incertesa i a l’adaptabilitat.",</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon: "fa-solid fa-person-digging",</p>
<p class="p1"><span class="Apple-converted-space">                </span>resources: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Fomentar l'autoregulació i la responsabilitat",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Estratègies per capacitar l'alumnat a gestionar les seves tasques de forma autònoma i a responsabilitzar-se del seu aprenentatge.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_autonomia_1"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Promoure la presa de decisions informada",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Facilitar eines i estratègies perquè l'alumnat analitzi avantatges i inconvenients de les diferents opcions abans de decidir.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_autonomia_2"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Establir objectius personals i planificació",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Ajudar cada estudiant a definir metes pròpies i a fer-ne un seguiment, integrant la planificació com a part del treball habitual.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_autonomia_3"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Desenvolupar la tolerància a la incertesa i adaptabilitat",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Promoure una mentalitat oberta als errors i capaç de redefinir estratègies davant situacions imprevistes.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_autonomia_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>indicators: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_autonomia_1",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Autoregulació i responsabilitat",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: L’alumnat segueix instruccions de manera passiva, sense oportunitats per exercir autorregulació ni gestionar les tasques de forma autònoma.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es plantegen activitats on l’alumnat pot escollir petits aspectes (ex.: format de presentacions), però amb poca profunditat en l’autoregulació.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: L’alumnat s’exercita en l’autoregulació, responsabilitzant-se dels seus propis processos d’aprenentatge i organitzant-se amb cert marge d’autonomia.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: L’autoregulació i la responsabilitat són valors transversals al projecte educatiu: l’alumnat aprèn a autoavaluar-se i a marcar-se reptes realistes i motivadors."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_autonomia_2",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Presa de decisions informada",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No es promou la responsabilitat personal, ja que la supervisió adulta és constant i no fomenta la iniciativa pròpia.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es fa èmfasi en la responsabilitat però principalment per al compliment de normes, no com a oportunitat de creixement personal.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es promou la presa de decisions informada, facilitant eines i estratègies per analitzar avantatges i inconvenients de les diferents opcions.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: La planificació i l’establiment d’objectius esdevenen hàbits consolidats, on l’alumnat traça els seus propis itineraris d’aprenentatge i en fa revisions periòdiques."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_autonomia_3",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Planificació i establiment d’objectius personals",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: La planificació es fa de manera genèrica per tothom sense oferir eines per desenvolupar el pensament crític o la capacitat de decidir.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Hi ha alguna iniciativa per implicar l’alumnat en decisions conjuntes, però no s’analitzen les diferents opcions amb informació o criteris.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: La planificació i l’establiment d’objectius personals són part del treball habitual: cada estudiant defineix metes i en fa el seguiment.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: Les decisions es prenen de manera participativa, afavorint la gestió informada i plural de l’aula i fins i tot de la vida del centre."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_autonomia_4",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Tolerància a la incertesa i adaptabilitat",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: Davant la incertesa, es prioritza la seguretat i el control, sense oportunitats per aprendre de’error o adaptar-se als canvis.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es reconeix la importància de l’adaptabilitat, però encara es veu la incertesa com un factor de risc i no pas com una ocasió d’aprenentatge.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es treballa la responsabilitat tant individual com col·lectiva, connectant-la amb la recerca de solucions i la millora constant.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: La tolerància a la incertesa i l’adaptabilitat es consideren competències clau, promovent una mentalitat oberta als errors i capaç de redefinir estratègies."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>]</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>'motivacio_habits_aprenentatge': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "Motivació i Hàbits d’Aprenentatge",</p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "En l’àmbit de motivació i de les habilitats d’aprenentatge es poden identificar aspectes la motivació intrínseca i extrínseca, les estratègies d’aprenentatge, l’organització i gestió del temps, i l’autodisciplina i perseverança.",</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon: "fa-solid fa-lightbulb",</p>
<p class="p1"><span class="Apple-converted-space">                </span>resources: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Taller de tècniques d’estudi aplicades",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Sessió pràctica on es presenten i practiquen tècniques com el mètode Cornell, mapes mentals, lectura activa o autoavaluació. Cada alumne aplica les tècniques al seu propi material de classe.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_motivacio_2"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "“Hackeig d’hàbits” amb l’alumnat",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Activitat col·laborativa on es detecten hàbits poc eficients (de procrastinació, mala gestió del temps, etc.) i es dissenyen alternatives sostenibles, com la regla del 80/20, la tècnica Pomodoro o la planificació amb calendaris visuals.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_motivacio_3", "id_motivacio_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Diari de treball i registre d’autoregulació",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Llibreta física o digital on l’alumnat escriu objectius setmanals, dificultats trobades i estratègies que ha posat en pràctica per mantenir la constància. Permet fer seguiment tutorial.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_motivacio_3", "id_motivacio_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Exercici “Motivació 360º”",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Activitat per identificar motivadors intrínsecs i extrínsecs propis, amb una plantilla on l’alumnat respon a preguntes.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_motivacio_1"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Espais de reflexió sobre el sentit de l’aprenentatge",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Utilització de vídeos, testimonis o dilemes reals perquè l’alumnat connecti el que estudia amb el seu projecte vital o professional. Es poden fer fòrums o debats guiats.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_motivacio_1"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Tutories amb repte de perseverança",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Es plantegen petits reptes de 2-3 setmanes, com mantenir una rutina, acabar una tasca complicada, o millorar una nota. L’objectiu és fer visible el procés i no només el resultat.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_motivacio_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Autoavaluació docent sobre la motivació que promovem",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Breu qüestionari o baròmetre compartit entre docents per reflexionar si els mètodes didàctics afavoreixen la motivació intrínseca i l’autonomia. Serveix per orientar les accions tutorial i metodològica del grup docent.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_motivacio_1", "id_motivacio_2", "id_motivacio_3", "id_motivacio_4"] // General</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>indicators: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_motivacio_1",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Motivació intrínseca i extrínseca",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: La motivació de l’alumnat es dona per descomptada o es basa exclusivament en recompenses i sancions (motivació extrínseca sense profunditat).",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es comencen a fer accions per motivar l’alumnat més enllà dels incentius externs, però encara són puntuals o poc coherents. Encara no queda clar per què allò que fa pot tenir valor personal o educatiu.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es fomenta la motivació intrínseca dissenyant activitats amb significat i connexió amb la realitat o els interessos de l’alumnat.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: La motivació intrínseca esdevé la palanca principal de l’aprenentatge: es promou l’autonomia, la curiositat i el sentit de propòsit en totes les activitats."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_motivacio_2",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Estratègies d’aprenentatge efectiu",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: Les estratègies d’aprenentatge no s’ensenyen de manera explícita; l’alumnat rep tasques sense orientacions clares de com abordar-les.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es proposen algunes estratègies d’aprenentatge (per exemple, tècniques d’estudi), però de manera esporàdica o sense un seguiment sistemàtic.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Les estratègies d’aprenentatge (resum, esquemes, autoavaluació…) formen part del dia a dia i es guien s’apliquen i s’avalauen de manera sistemàtica.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: Les estratègies d’aprenentatge són competències clau del currículum, i l’alumnat les domina i adapta segons les seves necessitats i contextos."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_motivacio_3",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Organització i gestió del temps",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: L’organització i la gestió del temps recauen gairebé sempre en la supervisió del docent sense fomentar l’autonomia progessiva.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es fan activitats puntuals per millorar la gestió del temps, però no es consoliden com a hàbits ni com a competències trasnversals.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: S’impulsen rutines d’organització i planificació (agendes, calendaris, objectius setmanals) com a base per a una gestió òptima del temps.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: L’organització i la gestió del temps formen part de l’autoregulació de l’alumnat, que planifica, prioritza i ajusta el seu ritme de treball amb maduresa."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_motivacio_4",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Autodisciplina i perseverança",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: L’autodisciplina i la perseverança són considerades responsabilitats individuals, sense cap suport, seguiment ni formació al respecte.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: L’alumnat comença a rebre missatges que valoren l’esforç i la constància, però no es genera un pla concret per desenvolupar la perseverança.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: La perseverança i l’autodisciplina es treballen a través de projectes de llarg recorregut o reptes acadèmics que reforcen l’esforç sostingut.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: La perseverança, la resiliència i la disciplina es valoren com a actituds essencials, cultivades dins d’una cultura d’aprenentatge que normalitza l’error i el procés."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>]</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>'salut_habits_vida': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "Salut i Hàbits de Vida",</p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "En l’àmbit de la salut i hàbits de vida es poden identificar aspectes l’alimentació i el descans, l’exercici físic i el benestar emocional, l’ús responsable de la tecnologia i les xarxes socials i la prevenció de conductes de risc.",</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon: "fa-solid fa-heart-pulse",</p>
<p class="p1"><span class="Apple-converted-space">                </span>resources: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Taller “Els 4 pilars del benestar”",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Sessió pràctica on es treballen els hàbits de descans, alimentació, moviment i gestió emocional. L’alumnat fa una autoavaluació i dissenya un pla de millora personal.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_salut_1", "id_salut_2"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Diari de salut conscient",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Registre setmanal on l’alumnat anota hores de son, àpats, ús de pantalles, activitat física i estat emocional. Serveix com a base per a debats i accions de canvi.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_salut_1", "id_salut_2", "id_salut_3"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Projectes transversals sobre benestar",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Exemple: crear un podcast sobre hàbits saludables, elaborar infografies o vídeos sobre alimentació, o fer campanyes de sensibilització dins del centre.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_salut_1", "id_salut_2", "id_salut_3", "id_salut_4"] // General</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Debats sobre tecnologia i salut digital",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Sessions de reflexió guiada sobre l’impacte de les pantalles en el son, la concentració i la socialització. Es poden vincular a assignatures de tutoria, ciències o comunicació.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_salut_3"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Xerrades o tallers amb professionals",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Nutricionistes, psicòlegs, infermers o esportistes locals poden fer intervencions puntuals per reforçar missatges clau sobre la salut integral.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_salut_1", "id_salut_2", "id_salut_3", "id_salut_4"] // General</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Reptes col·lectius “30 dies d’hàbits”",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Reptes gamificats com “30 dies sense sucre afegit”, “30 minuts de lectura abans de dormir”, “3 passejades per setmana”, etc. Amb recompenses simbòliques i seguiment grupal.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_salut_1", "id_salut_2"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Mur visual de benestar",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Espai a l’aula o al passadís on es recullen bones pràctiques, frases motivadores o idees per cuidar-se. Es va renovant periòdicament amb aportacions de l’alumnat.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_salut_1", "id_salut_2", "id_salut_3", "id_salut_4"] // General</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Fòrum digital de consells saludables",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Espai virtual on l’alumnat comparteix rutines, apps útils, vídeos, receptes o idees per tenir més energia i cuidar el cos i la ment.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_salut_1", "id_salut_2", "id_salut_3"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>indicators: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_salut_1",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Alimentació i descans",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No es tracta específicament l’alimentació equilibrada ni la importància del descans; cada família ho gestiona com pot, sense orientacions ni activitats relacionades.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es fan algunes activitats puntuals per promoure una alimentació saludable (cartells, xerrades), però sense continuïtat ni estratègia global.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: L’alimentació i el descans formen part dels temes de treball a classe, es fan projectes interdisciplinaris o tallers que promouen hàbits saludables de manera vivencial.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: El foment d’una alimentació equilibrada i un bon descans forma part de la cultura de centre, amb projectes transversals, accions de sensibilització i participació de les famílies."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_salut_2",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Exercici físic i benestar emocional",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: L’exercici físic queda reduït a l’assignatura d’educació física, sense donar continuïtat a l’impacte en el benestar emocional.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es connecta l’exercici físic amb el benestar, però es queda en recomanacions ocasionals i sense fer-ne un seguiment.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: L’exercici físic es vincula sistemàticament al benestar emocional, proposant reptes o activitats que fomenten una mentalitat saludable i la cura del propi cos.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: L’exercici físic i el benestar emocional es consideren indestriables: es fa un acompanyament regular per promoure la regulació emocional a través del moviment i la consciència corporal."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_salut_3",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Ús responsable de la tecnologia",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: L’ús de la tecnologia i de les xarxes socials no es regula a l’aula, i tampoc no es fan activitats per promoure’n un ús responsable.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es realitzen breus reflexions sobre l’ús de la tecnologia a l’aula, tot i que no hi ha un pla específic per al seu ús responsable.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: L’ús de la tecnologia i les xarxes socials es treballa explícitament, reflexionant sobre la privadesa, la salut digital i la gestió del temps en línia.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: L’ús responsable de la tecnologia forma part de l’educació digital del centre, amb normes clares, espais de debat, i acompanyament personalitzat per afavorir l’equilibri i l’autonomia."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_salut_4",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Prevenció de conductes de risc (drogues, addiccions, etc.)",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No hi ha conscienciació sistemàtica sobre la prevenció de conductes de risc (consum de drogues, addiccions, etc.); es tracta només en cas de problema concret.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: La prevenció de conductes de risc es tracta de forma informativa, amb alguna sessió de conscienciació organitzada de manera esporàdica.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: La prevenció de conductes de risc va més enllà de la informació bàsica; s’implica l’alumnat en la construcció de valors i actituds que afavoreixin la responsabilitat personal i col·lectiva.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: Els hàbits de vida saludables estan plenament integrats en el currículum explícit i implícit, de manera que l’alumnat desenvolupa una visió clara i proactiva de la seva pròpia salut."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>]</p>
<p class="p1"><span class="Apple-converted-space">            </span>},</p>
<p class="p1"><span class="Apple-converted-space">            </span>'gestio_canvis_transicions': {</p>
<p class="p1"><span class="Apple-converted-space">                </span>title: "Gestió de Canvis i Transicions",</p>
<p class="p1"><span class="Apple-converted-space">                </span>description: "En l’àmbit de la gestió de canvis i transicions es poden identificar aspectes com l’adaptació a noves etapes educatives, el maneig de la por al fracàs i a l’error, la flexibilitat davant els canvis i la preparació per a la vida adulta i la inserció laboral.",</p>
<p class="p1"><span class="Apple-converted-space">                </span>icon: "fa-solid fa-shuffle",</p>
<p class="p1"><span class="Apple-converted-space">                </span>resources: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Pla d’acollida del centre",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Model de pla per acompanyar l'alumnat en les noves etapes educatives.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_1"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Document de traspàs a postobligatoris",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Model de document per facilitar la transició entre etapes educatives.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_1"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Pla d’acció tutorial (PAT) / Pla d’orientació educativa i acció tutorial (POEAT)",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Plans per acompanyar l'alumnat en el seu procés educatiu i orientació.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_1"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Dinàmiques de coneixença del centre i de les companyes de l’aula",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Activitats per facilitar la integració i l'adaptació a nous entorns.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_1"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Utilitzar l’error com a eina de debat i reflexió col·lectiva",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Dinàmica “els meus èxits i els meus errors” per normalitzar l'error com a part de l'aprenentatge.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_2"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Rúbriques d’autoavaluació i coavaluació",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Eines per fomentar l'autonomia i la reflexió sobre el propi procés d'aprenentatge.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_2"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Parlar obertament del fracàs com a part del camí cap a l’aprenentatge",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Compartir exemples reals (professionals, docents, exalumnes…) per desestigmatitzar el fracàs.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_2"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Proposar activitats de simulació de situacions imprevistes",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Treballar la resiliència i la flexibilitat davant els canvis a través de dinàmiques com “projectes de ruptura/continuistes/de canvi”.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_3"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Integrar el treball emocional a través de dinàmiques de role-playing",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Abordar dilemes o projectes reals amb incerteses per desenvolupar la gestió emocional davant els canvis.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_3"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Donar espai a la presa de decisions i a la gestió d’imprevistos",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Fomentar l'autonomia de l'alumnat en projectes d’aula que impliquen incerteses.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_3"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "“Speed Dating” amb empreses del sector",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Activitat per apropar la realitat del món laboral al centre educatiu i fomentar competències personals per a la inserció laboral.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "FP Dual - Posem a prova les competències: comunicació eficaç",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Recursos per treballar competències clau per al món laboral, com la comunicació.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Incorporar projectes d’aprenentatge-servei vinculats a contextos laborals reals",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Metodologia que connecta l'aprenentatge amb la realitat professional i social.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Proposar tutories individualitzades amb orientació personalitzada",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Exemple d'entrevista dins OrientaFP per guiar l'alumnat en el seu projecte vital i professional.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>title: "Establir col·laboracions amb professionals externs, empreses o exalumnes",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>description: "Compartir experiències i trajectòries vitals per inspirar i orientar l'alumnat.",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>related_indicators: ["id_canvis_4"]</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>],</p>
<p class="p1"><span class="Apple-converted-space">                </span>indicators: [</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_canvis_1",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Adaptació a noves etapes educatives",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No es preveuen accions específiques per acompanyar els moments de transició educativa (canvi de cicle, curs, etapa o centre).",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es comencen a dissenyar accions de suport en les transicions educatives, però no tenen caràcter sistemàtic.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es duen a terme accions planificades d’acollida i seguiment en els canvis educatius, amb la participació activa de l’equip docent i de l’alumnat.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: La gestió de les transicions educatives forma part d’una estratègia global i compartida per tota la comunitat educativa."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_canvis_2",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Maneig de la por al fracàs i a l'error",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: L’error i el fracàs són considerats únicament com a indicadors negatius de rendiment.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es reconeix l’error com a part del procés d’aprenentatge, tot i que no s’integra en la pràctica educativa de manera estructurada.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es fa un ús pedagògic de l’error, promovent actituds de millora, reflexió i autoavaluació.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: Es fomenta una cultura d’aprenentatge basada en la mentalitat de creixement, on l’error es valora com una oportunitat de superació."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_canvis_3",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Flexibilitat davant els canvis",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No es promou l’adaptació al canvi ni es treballen situacions de canvi de manera explícita.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es comencen a introduir activitats relacionades amb el canvi, però de manera puntual o poc contextualitzada.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: Es planifiquen activitats específiques i contextualitzades per desenvolupar la flexibilitat cognitiva i emocional.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: La flexibilitat i l’adaptabilitat són competències treballades transversalment i a través de metodologies actives."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>id: "id_canvis_4",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>text: "Preparació per a la vida adulta i inserció laboral",</p>
<p class="p1"><span class="Apple-converted-space">                        </span>levels: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>1: "Nivell 1: No hi ha una orientació clara cap al futur adult o laboral, o es limita a informació puntual.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>2: "Nivell 2: Es comencen a oferir orientacions per al futur, però sense connexió clara amb les competències personals.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>3: "Nivell 3: L’orientació per a la vida adulta i professional està integrada en el currículum i es vincula amb les experiències reals de l’alumnat.",</p>
<p class="p1"><span class="Apple-converted-space">                            </span>4: "Nivell 4: L’educació per al futur adult i laboral es fonamenta en un projecte vital i professional personalitzat, amb seguiment i suport continuat."</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>]</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function showModal(title, contentHTML) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>modalTitle.textContent = title;</p>
<p class="p1"><span class="Apple-converted-space">            </span>modalBody.innerHTML = DOMPurify.sanitize(contentHTML);</p>
<p class="p1"><span class="Apple-converted-space">            </span>infoModal.classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function closeModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>infoModal.classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>function openAIModal(mode, data) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiModalMode = mode;</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiSuggestionOutputContainer.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiLoadingIndicator.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiSuggestionOutput.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('aiFollowUpQuestion').value = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiContextHistory = []; // Reset context for new query</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (mode === 'diagnosis') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentIndicatorForAI = data.indicator;</p>
<p class="p1"><span class="Apple-converted-space">                </span>currentResourceForAI = data.resource;</p>
<p class="p1"><span class="Apple-converted-space">                </span>aiModalTitle.textContent = "Suggeriments amb Intel·ligència Artificial";</p>
<p class="p1"><span class="Apple-converted-space">                </span>aiModalIntro.innerHTML = `&lt;p&gt;A continuació, pots refinar la teva consulta per obtenir suggeriments més personalitzats de la IA. Indica el context específic:&lt;/p&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>aiContextInputs.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>getAIContextSuggestionButton.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>getAIContextSuggestionButton.textContent = 'Generar Suggeriments Detallats';</p>
<p class="p1"><span class="Apple-converted-space">                </span>aiFollowUpSection.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (mode === 'glossary') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>glossarySearchTermForAI = data.term;</p>
<p class="p1"><span class="Apple-converted-space">                </span>aiModalTitle.textContent = `Definició amb Intel·ligència Artificial per "${data.term}"`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>aiModalIntro.innerHTML = `&lt;p&gt;La IA generarà una definició per al terme "${data.term}".&lt;/p&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>aiContextInputs.classList.add('hidden'); // Hide context inputs for glossary</p>
<p class="p1"><span class="Apple-converted-space">                </span>getAIContextSuggestionButton.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>getAIContextSuggestionButton.textContent = 'Generar Definició';</p>
<p class="p1"><span class="Apple-converted-space">                </span>aiFollowUpSection.classList.add('hidden'); // Hide follow-up for glossary</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiModal.classList.add('active');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function closeAIModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiModal.classList.remove('active');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderBarometerSelectionView() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>appContainer.innerHTML = ''; // Neteja el contingut anterior</p>
<p class="p1"><span class="Apple-converted-space">            </span>const introSection = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>introSection.className = 'mb-8 p-6 bg-white rounded-lg shadow';</p>
<p class="p1"><span class="Apple-converted-space">            </span>introSection.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="text-2xl font-semibold text-sky-700 mb-3"&gt;Benvingut/da al Meu Baròmetre Docent&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-slate-600 mb-2"&gt;Aquesta eina interactiva està dissenyada per ajudar-te a reflexionar sobre la teva pràctica docent i identificar àrees de creixement personal i professional. L'autoavaluació és un pas fonamental cap a la millora contínua.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-slate-600"&gt;Selecciona un dels baròmetres disponibles a continuació per començar la teva autoavaluació. Cada baròmetre se centra en un aspecte clau de la competència docent.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>appContainer.appendChild(introSection);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const grid = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>grid.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6';</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>for (const id in barometersData) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const barometer = barometersData[id];</p>
<p class="p1"><span class="Apple-converted-space">                </span>const card = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.className = 'content-card p-6 flex flex-col items-center text-center cursor-pointer';</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;i class="${barometer.icon} text-4xl text-sky-600 mb-4"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h3 class="text-xl font-semibold text-slate-800 mb-2"&gt;${barometer.title}&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-sm text-slate-500 flex-grow"&gt;${barometer.description.substring(0,100)}...&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>card.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>currentBarometerId = id;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderAssessmentView();</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>grid.appendChild(card);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>appContainer.appendChild(grid);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderAssessmentView() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>appContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const barometer = barometersData[currentBarometerId];</p>
<p class="p1"><span class="Apple-converted-space">            </span>currentEvaluation = {}; // Reseteja l'avaluació actual</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const header = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>header.className = 'mb-6 p-6 bg-white rounded-lg shadow';</p>
<p class="p1"><span class="Apple-converted-space">            </span>header.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h2 class="text-2xl font-semibold text-sky-700"&gt;${barometer.title}&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button id="backToSelection" class="btn btn-outline"&gt;&lt;i class="fas fa-arrow-left mr-2"&gt;&lt;/i&gt;Tornar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-slate-600 mt-2"&gt;${barometer.description}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-sm text-slate-500 mt-3"&gt;Per a cada indicador, selecciona el nivell que millor descrigui la teva situació actual. Sigues honest/a amb tu mateix/a; l'objectiu és identificar àrees de millora.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>appContainer.appendChild(header);</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('backToSelection').addEventListener('click', renderBarometerSelectionView);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>barometer.indicators.forEach((indicator, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const indicatorDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>indicatorDiv.className = 'mb-8 p-6 bg-white rounded-lg shadow';</p>
<p class="p1"><span class="Apple-converted-space">                </span>indicatorDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;h4 class="text-lg font-semibold text-slate-800 mb-3"&gt;${index + 1}. ${indicator.text}&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div id="levels-${indicator.id}" class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>${Object.entries(indicator.levels).map(([level, description]) =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="radio" name="indicator-${indicator.id}" id="level-${indicator.id}-${level}" value="${level}" class="custom-radio-input"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;label for="level-${indicator.id}-${level}" class="custom-radio-label"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;span class="font-medium text-slate-700"&gt;Nivell ${level}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;p class="level-description"&gt;${description}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>appContainer.appendChild(indicatorDiv);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>// Afegir event listeners als radio buttons</p>
<p class="p1"><span class="Apple-converted-space">                </span>const radioButtons = indicatorDiv.querySelectorAll(`input[name="indicator-${indicator.id}"]`);</p>
<p class="p1"><span class="Apple-converted-space">                </span>radioButtons.forEach(radio =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>radio.addEventListener('change', (event) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>currentEvaluation[indicator.id] = parseInt(event.target.value);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const submitButton = document.createElement('button');</p>
<p class="p1"><span class="Apple-converted-space">            </span>submitButton.id = 'submitEvaluation';</p>
<p class="p1"><span class="Apple-converted-space">            </span>submitButton.className = 'btn btn-primary mt-6 w-full md:w-auto';</p>
<p class="p1"><span class="Apple-converted-space">            </span>submitButton.innerHTML = '&lt;i class="fas fa-check-circle mr-2"&gt;&lt;/i&gt;Finalitzar Avaluació i Veure Diagnòstic';</p>
<p class="p1"><span class="Apple-converted-space">            </span>submitButton.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>// Validació simple: comprovar si tots els indicadors han estat avaluats</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (Object.keys(currentEvaluation).length === barometer.indicators.length) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderDiagnosisView();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>showModal("Avaluació Incompleta", "&lt;p&gt;Si us plau, selecciona un nivell per a tots els indicadors abans de continuar.&lt;/p&gt;");</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>appContainer.appendChild(submitButton);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderDiagnosisView() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>appContainer.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">            </span>const barometer = barometersData[currentBarometerId];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const header = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>header.className = 'mb-6 p-6 bg-white rounded-lg shadow';</p>
<p class="p1"><span class="Apple-converted-space">            </span>header.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="text-2xl font-semibold text-sky-700"&gt;Diagnòstic i Recomanacions: ${barometer.title}&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-slate-600 mt-2"&gt;A continuació es mostra un resum de la teva autoavaluació i les recomanacions associades a cada indicador segons el nivell seleccionat. Utilitza aquesta informació per guiar el teu desenvolupament professional.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>appContainer.appendChild(header);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Chart Section</p>
<p class="p1"><span class="Apple-converted-space">            </span>const chartSection = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>chartSection.className = 'mb-6 p-6 bg-white rounded-lg shadow';</p>
<p class="p1"><span class="Apple-converted-space">            </span>chartSection.innerHTML = `&lt;h3 class="text-xl font-semibold text-slate-800 mb-4"&gt;Resum Visual de l'Avaluació&lt;/h3&gt;&lt;div class="chart-container"&gt;&lt;canvas id="diagnosisChart"&gt;&lt;/canvas&gt;&lt;/div&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>appContainer.appendChild(chartSection);</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderChart(barometer);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>barometer.indicators.forEach((indicator, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const selectedLevel = currentEvaluation[indicator.id];</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>const indicatorDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">                </span>indicatorDiv.className = 'mb-6 p-6 bg-white rounded-lg shadow';</p>
<p class="p1"><span class="Apple-converted-space">                </span>indicatorDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="text-lg font-semibold text-slate-800"&gt;${index + 1}. ${indicator.text}&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="text-sm text-sky-600 font-medium mt-1"&gt;Nivell seleccionat: ${selectedLevel} - ${indicator.levels[selectedLevel].split(':')[1].trim()}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="mt-3 recommendation-details"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;p class="font-semibold text-slate-700 mb-2"&gt;Recursos recomanats per a aquest indicador:&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${barometer.resources.filter(resource =&gt; resource.related_indicators.includes(indicator.id)).map(resource =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;div class="resource-item"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="font-medium text-slate-800"&gt;${resource.title}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;p class="text-sm text-slate-600"&gt;${resource.description}&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;button class="btn btn-secondary btn-sm get-ai-suggestion"<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                                            </span>data-indicator-id="${indicator.id}"<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                                            </span>data-level="${selectedLevel}"</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>data-resource-title="${encodeURIComponent(resource.title)}"</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>data-resource-description="${encodeURIComponent(resource.description)}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>&lt;i class="fas fa-wand-magic-sparkles mr-1"&gt;&lt;/i&gt; IA</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>${barometer.resources.filter(resource =&gt; resource.related_indicators.includes(indicator.id)).length === 0 ? '&lt;p class="text-sm text-slate-500"&gt;No hi ha recursos específics associats directament a aquest indicador. Utilitza la IA per generar-ne.&lt;/p&gt;' : ''}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>appContainer.appendChild(indicatorDiv);</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Add event listeners for AI suggestion buttons</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.querySelectorAll('.get-ai-suggestion').forEach(button =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>button.addEventListener('click', (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const indicatorId = e.currentTarget.dataset.indicatorId;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const level = parseInt(e.currentTarget.dataset.level);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const resourceTitle = decodeURIComponent(e.currentTarget.dataset.resourceTitle);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const resourceDescription = decodeURIComponent(e.currentTarget.dataset.resourceDescription);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const currentIndicator = barometer.indicators.find(ind =&gt; ind.id === indicatorId);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const currentResource = { title: resourceTitle, description: resourceDescription };</p>
<p class="p1"><span class="Apple-converted-space">                    </span>openAIModal('diagnosis', { indicator: currentIndicator, resource: currentResource });</p>
<p class="p1"><span class="Apple-converted-space">                </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const actionsDiv = document.createElement('div');</p>
<p class="p1"><span class="Apple-converted-space">            </span>actionsDiv.className = 'mt-8 p-6 bg-white rounded-lg shadow flex flex-col sm:flex-row justify-center gap-4';</p>
<p class="p1"><span class="Apple-converted-space">            </span>actionsDiv.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="downloadPdfButton" class="btn btn-primary"&gt;&lt;i class="fas fa-file-pdf mr-2"&gt;&lt;/i&gt;Descarregar Diagnòstic (PDF)&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;button id="evaluateAnotherButton" class="btn btn-outline"&gt;&lt;i class="fas fa-redo mr-2"&gt;&lt;/i&gt;Avaluar un altre baròmetre&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>appContainer.appendChild(actionsDiv);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('downloadPdfButton').addEventListener('click', generatePdf);</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('evaluateAnotherButton').addEventListener('click', renderBarometerSelectionView);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderChart(barometer) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const ctx = document.getElementById('diagnosisChart').getContext('2d');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const labels = barometer.indicators.map(ind =&gt; ind.text.substring(0, 30) + (ind.text.length &gt; 30 ? '...' : '')); // Shorten labels</p>
<p class="p1"><span class="Apple-converted-space">            </span>const data = barometer.indicators.map(ind =&gt; currentEvaluation[ind.id]);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Destroy existing chart if it exists to prevent issues on re-render</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (window.myDiagnosisChart instanceof Chart) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>window.myDiagnosisChart.destroy();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>window.myDiagnosisChart = new Chart(ctx, {</p>
<p class="p1"><span class="Apple-converted-space">                </span>type: 'bar',</p>
<p class="p1"><span class="Apple-converted-space">                </span>data: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>labels: labels,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>datasets: [{</p>
<p class="p1"><span class="Apple-converted-space">                        </span>label: 'Nivell Seleccionat',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>data: data,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>backgroundColor: 'rgba(2, 132, 199, 0.6)', // sky-600 with opacity</p>
<p class="p1"><span class="Apple-converted-space">                        </span>borderColor: 'rgba(2, 132, 199, 1)', // sky-600</p>
<p class="p1"><span class="Apple-converted-space">                        </span>borderWidth: 1</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}]</p>
<p class="p1"><span class="Apple-converted-space">                </span>},</p>
<p class="p1"><span class="Apple-converted-space">                </span>options: {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>responsive: true,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>maintainAspectRatio: false,</p>
<p class="p1"><span class="Apple-converted-space">                    </span>scales: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>y: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>beginAtZero: true,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>min: 0,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>max: 4,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>ticks: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>stepSize: 1,</p>
<p class="p1"><span class="Apple-converted-space">                                </span>callback: function(value) {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>return 'Nivell ' + value;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>},</p>
<p class="p1"><span class="Apple-converted-space">                        </span>x: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>ticks: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>callback: function(value, index, values) {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>// Wrap long labels</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>const label = this.getLabelForValue(value);</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>if (label.length &gt; 16) {</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>const words = label.split(' ');</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>const lines = [];</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>let currentLine = '';</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>words.forEach(word =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>if ((currentLine + word).length &gt; 16) {</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>lines.push(currentLine.trim());</p>
<p class="p1"><span class="Apple-converted-space">                                                </span>currentLine = '';</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                            </span>currentLine += word + ' ';</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>});</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>lines.push(currentLine.trim());</p>
<p class="p1"><span class="Apple-converted-space">                                        </span>return lines;</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>return label;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>},</p>
<p class="p1"><span class="Apple-converted-space">                    </span>plugins: {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>legend: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>display: false</p>
<p class="p1"><span class="Apple-converted-space">                        </span>},</p>
<p class="p1"><span class="Apple-converted-space">                        </span>tooltip: {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>callbacks: {</p>
<p class="p1"><span class="Apple-converted-space">                                </span>label: function(context) {</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>return `Nivell: ${context.raw}`;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>async function generatePdf() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const { jsPDF } = window.jspdf;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const doc = new jsPDF();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const barometer = barometersData[currentBarometerId];</p>
<p class="p1"><span class="Apple-converted-space">            </span>let yOffset = 20;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const margin = 15;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const maxWidth = doc.internal.pageSize.width - margin * 2;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>doc.setFontSize(18);</p>
<p class="p1"><span class="Apple-converted-space">            </span>doc.setFont("helvetica", "bold");</p>
<p class="p1"><span class="Apple-converted-space">            </span>doc.text(barometer.title, doc.internal.pageSize.width / 2, yOffset, { align: "center" });</p>
<p class="p1"><span class="Apple-converted-space">            </span>yOffset += 10;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>doc.setFontSize(12);</p>
<p class="p1"><span class="Apple-converted-space">            </span>doc.setFont("helvetica", "normal");</p>
<p class="p1"><span class="Apple-converted-space">            </span>const descLines = doc.splitTextToSize(barometer.description, maxWidth);</p>
<p class="p1"><span class="Apple-converted-space">            </span>doc.text(descLines, margin, yOffset);</p>
<p class="p1"><span class="Apple-converted-space">            </span>yOffset += doc.getTextDimensions(descLines).h + 10;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>barometer.indicators.forEach((indicator, index) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (yOffset &gt; doc.internal.pageSize.height - 40) { // Check for page break</p>
<p class="p1"><span class="Apple-converted-space">                    </span>doc.addPage();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>yOffset = margin;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>doc.setFontSize(14);</p>
<p class="p1"><span class="Apple-converted-space">                </span>doc.setFont("helvetica", "bold");</p>
<p class="p1"><span class="Apple-converted-space">                </span>const indicatorTitle = `${index + 1}. ${indicator.text}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const indicatorTitleLines = doc.splitTextToSize(indicatorTitle, maxWidth);</p>
<p class="p1"><span class="Apple-converted-space">                </span>doc.text(indicatorTitleLines, margin, yOffset);</p>
<p class="p1"><span class="Apple-converted-space">                </span>yOffset += doc.getTextDimensions(indicatorTitleLines).h + 5;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>doc.setFontSize(10);</p>
<p class="p1"><span class="Apple-converted-space">                </span>doc.setFont("helvetica", "italic");</p>
<p class="p1"><span class="Apple-converted-space">                </span>const selectedLevel = currentEvaluation[indicator.id];</p>
<p class="p1"><span class="Apple-converted-space">                </span>const levelText = `Nivell seleccionat: ${selectedLevel} - ${indicator.levels[selectedLevel]}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const levelTextLines = doc.splitTextToSize(levelText, maxWidth);</p>
<p class="p1"><span class="Apple-converted-space">                </span>doc.text(levelTextLines, margin, yOffset);</p>
<p class="p1"><span class="Apple-converted-space">                </span>yOffset += doc.getTextDimensions(levelTextLines).h + 5;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>doc.setFontSize(12);</p>
<p class="p1"><span class="Apple-converted-space">                </span>doc.setFont("helvetica", "bold");</p>
<p class="p1"><span class="Apple-converted-space">                </span>doc.text("Recursos recomanats:", margin, yOffset);</p>
<p class="p1"><span class="Apple-converted-space">                </span>yOffset += 7;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>doc.setFontSize(10);</p>
<p class="p1"><span class="Apple-converted-space">                </span>doc.setFont("helvetica", "normal");</p>
<p class="p1"><span class="Apple-converted-space">                </span>const relevantResources = barometer.resources.filter(resource =&gt; resource.related_indicators.includes(indicator.id));</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (relevantResources.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>relevantResources.forEach(resource =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const resourceTitle = `• ${resource.title}: ${resource.description}`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>const resourceLines = doc.splitTextToSize(resourceTitle, maxWidth);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>if (yOffset + doc.getTextDimensions(resourceLines).h &gt; doc.internal.pageSize.height - margin) {</p>
<p class="p1"><span class="Apple-converted-space">                            </span>doc.addPage();</p>
<p class="p1"><span class="Apple-converted-space">                            </span>yOffset = margin;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>doc.text(resourceLines, margin, yOffset);</p>
<p class="p1"><span class="Apple-converted-space">                        </span>yOffset += doc.getTextDimensions(resourceLines).h + 3;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const noResourceText = "No hi ha recursos específics associats directament a aquest indicador.";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const noResourceLines = doc.splitTextToSize(noResourceText, maxWidth);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (yOffset + doc.getTextDimensions(noResourceLines).h &gt; doc.internal.pageSize.height - margin) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>doc.addPage();</p>
<p class="p1"><span class="Apple-converted-space">                        </span>yOffset = margin;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>doc.text(noResourceLines, margin, yOffset);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>yOffset += doc.getTextDimensions(noResourceLines).h + 3;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">                </span>yOffset += 10; // Space between indicators</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>doc.save(`Diagnòstic_${barometer.title.replace(/\s+/g, '_')}.pdf`);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>async function handleAIGeneration(prompt, isFollowUp = false) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiLoadingIndicator.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiSuggestionOutputContainer.classList.add('hidden');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Simulate API call</p>
<p class="p1"><span class="Apple-converted-space">            </span>await new Promise(resolve =&gt; setTimeout(resolve, 2000)); // Increased delay for better simulation</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>let aiResponseText = "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (aiModalMode === 'diagnosis') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const indicatorText = currentIndicatorForAI.text;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const selectedLevel = currentEvaluation[currentIndicatorForAI.id];</p>
<p class="p1"><span class="Apple-converted-space">                </span>const levelDescription = currentIndicatorForAI.levels[selectedLevel];</p>
<p class="p1"><span class="Apple-converted-space">                </span>const resourceTitle = currentResourceForAI.title;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const resourceDescription = currentResourceForAI.description;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const barometerTitle = barometersData[currentBarometerId].title;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!isFollowUp) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Generate more specific content for placeholders</p>
<p class="p1"><span class="Apple-converted-space">                    </span>let objective1, objective2, objective3, aspectOfIndicator;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Logic to fill placeholders based on indicator and resource</p>
<p class="p1"><span class="Apple-converted-space">                    </span>if (indicatorText.includes("Autoconeixement") || indicatorText.includes("fortaleses i febleses")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat identifiqui les seves pròpies fortaleses i àrees de millora en relació amb el recurs "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat apliqui el mètode de "${resourceTitle}" per analitzar la seva situació personal.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `la construcció d'una imatge més realista i positiva de si mateix/a.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "l'autoconeixement personal";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Construcció de la pròpia identitat")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat expressi la seva identitat de forma creativa a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat utilitzi "${resourceTitle}" per reflexionar sobre els seus valors i aspiracions.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `el reconeixement i respecte de les diverses identitats a l'aula.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "la construcció de la identitat";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Autoestima i autoconfiança")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat reforci la seva confiança en les seves capacitats a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat practiqui l'expressió assertiva de les seves idees utilitzant "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una major seguretat i valoració de les seves potencialitats.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "l'autoestima i la confiança";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Valors personals i creences")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat connecti els seus valors personals amb les activitats educatives a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat reflexioni sobre l'impacte dels seus valors en les seves decisions utilitzant "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una major coherència entre els seus valors i les seves accions.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "els valors personals";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Resolució de conflictes") || indicatorText.includes("frustració")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat desenvolupi estratègies per abordar conflictes de manera constructiva utilitzant "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat apliqui tècniques de mediació i diàleg basades en "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una millora en la convivència i el clima de l'aula.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "la gestió de conflictes";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Habilitats d’afrontament") || indicatorText.includes("dificultats")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat identifiqui i apliqui estratègies per afrontar reptes acadèmics o personals amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat practiqui la resiliència davant les dificultats a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una major capacitat de superació i adaptació.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "l'afrontament de dificultats";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Mindfulness") || indicatorText.includes("relaxació")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat experimenti tècniques de calma i concentració amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat integri pauses actives i moments de relaxació a la seva rutina diària utilitzant "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una reducció de l'estrès i una millora del benestar emocional.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "la gestió de l'estrès";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Regulació emocional") || indicatorText.includes("estrès")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat reconegui les seves emocions i les expressi adequadament amb el suport de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat desenvolupi estratègies d'autoregulació emocional basades en "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una major intel·ligència emocional i un clima d'aula més positiu.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "la regulació emocional";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Empatia i assertivitat")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat practiqui l'escolta activa i l'expressió assertiva amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat millori la seva capacitat de posar-se al lloc de l'altre a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una comunicació més efectiva i relacions interpersonals més saludables.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "l'empatia i l'assertivitat";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Comunicació efectiva") || indicatorText.includes("escolta activa")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat desenvolupi habilitats d'expressió oral i escrita amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat practiqui l'escolta activa en contextos de diàleg utilitzant "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una millora en la claredat i l'eficàcia de la seva comunicació.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "la comunicació efectiva";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Relacions interpersonals saludables")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat construeixi relacions de respecte i col·laboració amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat resolgui petits conflictes interpersonals de forma pacífica a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `un clima de convivència positiu i de suport mutu a l'aula.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "les relacions interpersonals";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Prevenció de l’assetjament")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat identifiqui situacions d'assetjament i sàpiga com actuar amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat promogui un entorn de respecte i inclusió a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una major seguretat i benestar per a tots els membres de la comunitat educativa.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "la prevenció de l'assetjament";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Alimentació i descans")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat comprengui la importància d'hàbits saludables d'alimentació i descans amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat dissenyi un pla personal per millorar la seva alimentació i descans utilitzant "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una millora en la seva energia i benestar general.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "els hàbits de vida saludable";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Exercici físic i benestar emocional")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat connecti l'activitat física amb el seu benestar emocional a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat incorpori rutines d'exercici físic que afavoreixin la seva regulació emocional amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una major consciència corporal i gestió de l'estrès.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "l'exercici físic i el benestar";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Ús responsable de la tecnologia")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat reflexioni sobre l'impacte de les pantalles en la seva salut amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat desenvolupi estratègies per a un ús equilibrat i segur de la tecnologia a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una major autonomia i criteri en l'ús de les eines digitals.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "l'ús responsable de la tecnologia";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Prevenció de conductes de risc")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat identifiqui factors de risc i de protecció davant conductes addictives amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat desenvolupi habilitats de presa de decisions per evitar conductes de risc a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una major responsabilitat personal i col·lectiva en la prevenció.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "la prevenció de riscos";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Adaptació a noves etapes educatives")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat comprengui els reptes i oportunitats de les noves etapes educatives amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat desenvolupi estratègies d'adaptació i integració utilitzant "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una transició més fluida i exitosa entre etapes.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "l'adaptació a transicions";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Maneig de la por al fracàs i a l'error")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat reconegui l'error com a part del procés d'aprenentatge amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat desenvolupi una mentalitat de creixement i resiliència a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una major capacitat de superació i aprenentatge de les dificultats.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "la gestió de l'error";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Flexibilitat davant els canvis")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat practiqui l'adaptació a situacions imprevistes amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat desenvolupi la seva capacitat de redefinir estratègies a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una major agilitat i proactivitat davant els canvis.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "la flexibilitat";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else if (indicatorText.includes("Preparació per a la vida adulta i inserció laboral")) {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat connecti els seus aprenentatges amb el seu projecte vital i professional amb "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat desenvolupi competències clau per a la inserció laboral a través de "${resourceTitle}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una major claredat i motivació en la seva orientació futura.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = "l'orientació professional";</p>
<p class="p1"><span class="Apple-converted-space">                    </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>// Fallback for any unhandled cases or general resources</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective1 = `que l'alumnat comprengui la rellevància de "${resourceTitle}" per a la millora de "${indicatorText}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective2 = `que l'alumnat apliqui els principis de "${resourceTitle}" en el seu context.`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>objective3 = `una millora general en l'àmbit de "${indicatorText}".`;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>aspectOfIndicator = indicatorText;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>aiResponseText = `Aquí tens una proposta d'activitat detallada basada en el recurs "${resourceTitle}" per millorar en l'indicador "${indicatorText}" (Nivell ${selectedLevel}):</p>
<p class="p2"><br></p>
<p class="p1">**1. Nom de l'activitat:** "Explorant ${resourceTitle.replace('Taller de ', '').replace('“', '').replace('”', '')} a l'Aula"</p>
<p class="p2"><br></p>
<p class="p1">**2. Objectius:**</p>
<p class="p1"><span class="Apple-converted-space">   </span>- ${objective1}</p>
<p class="p1"><span class="Apple-converted-space">   </span>- ${objective2}</p>
<p class="p1"><span class="Apple-converted-space">   </span>- ${objective3}</p>
<p class="p2"><br></p>
<p class="p1">**3. Descripció pas a pas:**</p>
<p class="p1"><span class="Apple-converted-space">   </span>- **Introducció (10 min):** Inicia la sessió presentant el recurs "${resourceTitle}" i la seva rellevància per a la millora de ${aspectOfIndicator}. Utilitza una pregunta oberta per activar coneixements previs, com ara: "Què sabeu sobre ${resourceTitle.toLowerCase()} i com creieu que ens pot ajudar a millorar en ${indicatorText.toLowerCase()}?"</p>
<p class="p1"><span class="Apple-converted-space">   </span>- **Activitat Central (30 min):** Realitza una activitat pràctica basada en "${resourceDescription}". Per exemple, si el recurs és un "Mapa de competències", els alumnes podrien crear un mapa mental individual de les seves pròpies competències, identificant-ne 3 fortaleses i 2 àrees de millora. Si és un "Diari de salut conscient", els alumnes podrien començar a omplir-lo amb un exemple guiat, centrant-se en un hàbit (ex: hores de son) durant un dia.</p>
<p class="p1"><span class="Apple-converted-space">   </span>- **Discussió i Reflexió (15 min):** Fomenta el diàleg en petits grups o en gran grup. Pregunta als alumnes què han après, quines dificultats han trobat i com poden aplicar el recurs en el seu dia a dia per millorar el seu nivell en ${indicatorText.toLowerCase()}.</p>
<p class="p1"><span class="Apple-converted-space">   </span>- **Tancament (5 min):** Resumeix els punts clau i proposa un petit repte per a la setmana següent relacionat amb l'aplicació del recurs, per exemple: "Durant aquesta setmana, intenteu aplicar una de les estratègies apreses del ${resourceTitle.toLowerCase()} i observeu els resultats."</p>
<p class="p2"><br></p>
<p class="p1">**4. Materials necessaris:**</p>
<p class="p1"><span class="Apple-converted-space">   </span>- Pissarra o projector.</p>
<p class="p1"><span class="Apple-converted-space">   </span>- Materials específics del recurs (ex: plantilles de mapes mentals, diaris de salut, guies de "pitch personal").</p>
<p class="p1"><span class="Apple-converted-space">   </span>- Llibretes i bolígrafs per a l'alumnat.</p>
<p class="p2"><br></p>
<p class="p1">**5. Criteris d'avaluació:**</p>
<p class="p1"><span class="Apple-converted-space">   </span>- Participació activa en la discussió i aportació d'idees.</p>
<p class="p1"><span class="Apple-converted-space">   </span>- Qualitat de l'aplicació del recurs (ex: claredat del mapa, completesa del diari, estructura del pitch).</p>
<p class="p1"><span class="Apple-converted-space">   </span>- Reflexió crítica sobre l'aprenentatge i la seva aplicació personal i professional.</p>
<p class="p2"><br></p>
<p class="p1">Aquesta proposta és un punt de partida. Pots adaptar-la al teu context específic d'aula, mòdul i alumnat.`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>aiResponseText = `En resposta a la teva pregunta sobre "${prompt}":</p>
<p class="p2"><br></p>
<p class="p1">[Resposta simulada a la pregunta de seguiment]. Per exemple:</p>
<p class="p1">- Podries explorar [idea A relacionada amb la pregunta].</p>
<p class="p1">- Una altra estratègia seria [idea B relacionada amb la pregunta].</p>
<p class="p2"><br></p>
<p class="p1">Recorda que la clau és adaptar aquestes idees al teu context específic.`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (aiModalMode === 'glossary') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const termToDefine = glossarySearchTermForAI;</p>
<p class="p1"><span class="Apple-converted-space">                </span>aiResponseText = `Aquí tens una definició generada per IA per al terme "${termToDefine}":</p>
<p class="p2"><br></p>
<p class="p1">**${termToDefine}:** [Simulació de definició per IA]. Per exemple: "La ${termToDefine.toLowerCase()} es refereix a la capacitat de [aspecte clau] per [propòsit]. És fonamental per a [benefici] en el context educatiu."</p>
<p class="p2"><br></p>
<p class="p1">Aquesta definició pot ser un punt de partida. Pots refinar-la o demanar més detalls.`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Store context for Gemini API (even if simulated here)</p>
<p class="p1"><span class="Apple-converted-space">            </span>let chatHistory = [...aiContextHistory];</p>
<p class="p1"><span class="Apple-converted-space">            </span>chatHistory.push({ role: "user", parts: [{ text: prompt }] });</p>
<p class="p1"><span class="Apple-converted-space">            </span>chatHistory.push({ role: "model", parts: [{ text: aiResponseText }] });</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiContextHistory = chatHistory;</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>aiSuggestionOutput.innerHTML = DOMPurify.sanitize(aiResponseText.replace(/\n/g, '&lt;br&gt;').replace(/\*\*(.*?)\*\*/g, '&lt;strong&gt;$1&lt;/strong&gt;'));</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiLoadingIndicator.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>aiSuggestionOutputContainer.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>getAIContextSuggestionButton.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (aiModalMode === 'diagnosis') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const module = document.getElementById('aiContextModule').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">                </span>const cycle = document.getElementById('aiContextCycle').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">                </span>const students = document.getElementById('aiContextStudents').value.trim();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>let prompt = `Sóc un docent que s'ha autoavaluat en el baròmetre "${barometersData[currentBarometerId].title}".<span class="Apple-converted-space"> </span></p>
<p class="p1">Per a l'indicador "${currentIndicatorForAI.text}", he seleccionat el Nivell ${currentEvaluation[currentIndicatorForAI.id]}, que es descriu com: "${currentIndicatorForAI.levels[currentEvaluation[currentIndicatorForAI.id]]}".<span class="Apple-converted-space"> </span></p>
<p class="p1">Vull una proposta d'activitat detallada basada en el recurs "${currentResourceForAI.title}" que es descriu com: "${currentResourceForAI.description}".</p>
<p class="p2"><br></p>
<p class="p1">Context addicional:</p>
<p class="p1">- Mòdul/Assignatura: ${module || 'No especificat'}</p>
<p class="p1">- Cicle/Nivell Educatiu: ${cycle || 'No especificat'}</p>
<p class="p1">- Característiques de l'Alumnat: ${students || 'No especificat'}</p>
<p class="p2"><br></p>
<p class="p1">La proposta ha d'incloure: 1. Nom de l'activitat, 2. Objectius, 3. Descripció pas a pas, 4. Materials necessaris, 5. Criteris d'avaluació.`;</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>handleAIGeneration(prompt, false);</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else if (aiModalMode === 'glossary') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const term = glossarySearchTermForAI;</p>
<p class="p1"><span class="Apple-converted-space">                </span>let prompt = `Defineix el terme pedagògic o educatiu: "${term}". Proporciona una definició concisa i clara.`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>handleAIGeneration(prompt, false);</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>getAIFollowUpButton.addEventListener('click', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const followUpQuestion = document.getElementById('aiFollowUpQuestion').value.trim();</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (followUpQuestion) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>handleAIGeneration(followUpQuestion, true);</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById('aiFollowUpQuestion').value = ''; // Clear input</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>aiSuggestionOutput.innerHTML += DOMPurify.sanitize("&lt;br&gt;&lt;p class='text-red-500'&gt;Si us plau, escriu una pregunta.&lt;/p&gt;");</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Function to open the glossary modal with search functionality</p>
<p class="p1"><span class="Apple-converted-space">        </span>function openGlossaryModal() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>let glossaryContentHtml = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mb-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" id="glossarySearchInput" class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm" placeholder="Cerca un concepte..."&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button id="glossarySearchButton" class="btn btn-primary w-full mt-2"&gt;&lt;i class="fas fa-search mr-2"&gt;&lt;/i&gt;Cercar&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="glossarySearchResults" class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="glossaryNoResults" class="hidden mt-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="mb-2"&gt;No s'ha trobat cap concepte amb aquests criteris.&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button id="glossaryGenerateAIButton" class="btn btn-secondary w-full"&gt;&lt;i class="fas fa-magic mr-2"&gt;&lt;/i&gt;Generar definició amb IA&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="glossaryAILoading" class="hidden mt-4 p-4 bg-teal-50 border border-teal-200 rounded-md text-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;i class="fas fa-spinner fa-spin text-teal-600 text-2xl"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-teal-700 mt-2"&gt;Generant definició amb IA...&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="glossaryAIDefinitionOutput" class="hidden mt-4 p-4 bg-teal-50 border border-teal-200 rounded-md text-sm text-slate-700 whitespace-pre-wrap"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>showModal("Glossari de Termes", glossaryContentHtml);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Add event listeners for glossary search and AI generation</p>
<p class="p1"><span class="Apple-converted-space">            </span>const glossarySearchInput = document.getElementById('glossarySearchInput');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const glossarySearchButton = document.getElementById('glossarySearchButton');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const glossarySearchResults = document.getElementById('glossarySearchResults');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const glossaryNoResults = document.getElementById('glossaryNoResults');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const glossaryGenerateAIButton = document.getElementById('glossaryGenerateAIButton');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const glossaryAILoading = document.getElementById('glossaryAILoading');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const glossaryAIDefinitionOutput = document.getElementById('glossaryAIDefinitionOutput');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const performGlossarySearch = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const query = glossarySearchInput.value.toLowerCase().trim();</p>
<p class="p1"><span class="Apple-converted-space">                </span>glossaryAIDefinitionOutput.classList.add('hidden'); // Hide previous AI definition</p>
<p class="p1"><span class="Apple-converted-space">                </span>glossaryAILoading.classList.add('hidden'); // Hide loading</p>
<p class="p1"><span class="Apple-converted-space">                </span>glossaryAIDefinitionOutput.innerHTML = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (query === '') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderGlossaryList(glossaryData, glossarySearchResults);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>glossaryNoResults.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>return;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>const filteredResults = glossaryData.filter(item =&gt;<span class="Apple-converted-space"> </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>item.concept.toLowerCase().includes(query) || item.description.toLowerCase().includes(query)</p>
<p class="p1"><span class="Apple-converted-space">                </span>);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>if (filteredResults.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderGlossaryList(filteredResults, glossarySearchResults);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>glossaryNoResults.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>glossarySearchResults.innerHTML = '';</p>
<p class="p1"><span class="Apple-converted-space">                    </span>glossaryNoResults.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>glossarySearchTermForAI = query; // Store term for AI generation</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>glossarySearchButton.addEventListener('click', performGlossarySearch);</p>
<p class="p1"><span class="Apple-converted-space">            </span>glossarySearchInput.addEventListener('keyup', (event) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (event.key === 'Enter') {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>performGlossarySearch();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>glossaryGenerateAIButton.addEventListener('click', async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const term = glossarySearchTermForAI;</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (term) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>glossaryAILoading.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>glossaryAIDefinitionOutput.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>glossaryAIDefinitionOutput.innerHTML = '';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// Simulate AI generation for glossary term</p>
<p class="p1"><span class="Apple-converted-space">                    </span>await new Promise(resolve =&gt; setTimeout(resolve, 2000));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const aiGeneratedText = `**${term.charAt(0).toUpperCase() + term.slice(1)}:** [Simulació de definició per IA per a "${term}"]. Aquest terme es refereix a la capacitat de [aspecte clau] per [propòsit]. És un concepte important en [camp relacionat].`;</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>glossaryAIDefinitionOutput.innerHTML = DOMPurify.sanitize(aiGeneratedText.replace(/\n/g, '&lt;br&gt;').replace(/\*\*(.*?)\*\*/g, '&lt;strong&gt;$1&lt;/strong&gt;'));</p>
<p class="p1"><span class="Apple-converted-space">                    </span>glossaryAILoading.classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>glossaryAIDefinitionOutput.classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// Initial render of the full glossary list</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderGlossaryList(glossaryData, glossarySearchResults);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Helper function to render glossary list</p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderGlossaryList(list, containerElement) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>let html = '&lt;ul class="list-disc pl-5 space-y-2"&gt;';</p>
<p class="p1"><span class="Apple-converted-space">            </span>list.forEach(item =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>html += `&lt;li&gt;&lt;strong&gt;${item.concept}:&lt;/strong&gt; ${item.description}&lt;/li&gt;`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p1"><span class="Apple-converted-space">            </span>html += '&lt;/ul&gt;';</p>
<p class="p1"><span class="Apple-converted-space">            </span>containerElement.innerHTML = html;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Event Listeners per als modals</p>
<p class="p1"><span class="Apple-converted-space">        </span>closeModalButton.addEventListener('click', closeModal);</p>
<p class="p1"><span class="Apple-converted-space">        </span>glossaryButton.addEventListener('click', openGlossaryModal); // Call the new function</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>closeAIModalButton.addEventListener('click', closeAIModal);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// Inicialització</p>
<p class="p1"><span class="Apple-converted-space">        </span>document.addEventListener('DOMContentLoaded', () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderBarometerSelectionView();</p>
<p class="p1"><span class="Apple-converted-space">        </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
